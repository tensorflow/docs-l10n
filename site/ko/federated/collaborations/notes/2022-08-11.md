# TFF 공동 작업자들의 2022년 8월 11일 회의 기록

- 제안된 안건 주제: Jeremy Lewi가 빌드될 수 있는 새로운 구성 요소에 대한 TFF 기반 아이디어를 발표합니다.
- [JL] 단순한 통합 분석 시나리오에 중점을 두고, Google 시트와 TFF를 연결하여 단순한 피드 평균을 산출합니다. 시트의 데이터를 읽으며 Kubernetes에서 작업합니다.
- [JL] 한 가지 어려운 점은 현재 작업자들이 인그레스 지점을 갖춰야 한다는 것입니다.
    - 이것은 흔하지 않은 경우이기 때문에 작업자가 서버를 호출하는, 반대 방향에서 설정될 연결성을 활성화하는 전송 레이어가 필요합니다.
    - 그러한 구성 요소는 현재 생태계에 없습니다.
- [BC] 이에 대한 필요성도 확인되었습니다. 현재 제한된 방식으로, 클라이언트가 데이터를 업로드하는 사내 클라우드에서 TFF를 사용하고 있습니다. 하지만 다중 데이터 센터 설정으로 마이그레이션하려면 위에 설명된 JL과 같은 것이 필요합니다.
- [JL] 작업자가 기존 런타임을 대체해야 하는 서버의 대기열에서 작업 항목을 “가져오기”할 수 있는 레이어를 생각하고 있습니다.
- [KO] 이러한 “대체” 면에서는 고려할 필요가 없습니다. 계산 작성과 런타임의 98%를 동일하게 유지할 수 있으며, 실행자 요청을 하향식으로 릴레이 하기 위한 메커니즘으로 원격 실행자 대신 제안 방식으로 작동하는 새로운 구성 요소에서 바꾸기만 하면 됩니다.
- [BC] 비동기화되어야 하나요, 혹은 기존 동기 패러다임 내에서 작동해야 하나요.
- [BC] 또한, 기존 플랫폼 몇몇은 “작업 대기열” 접근 방식을 사용하기 때문에 이는 확립된 아이디어같습니다.
- [BC] 타임아웃을 도입하는 것 또한 아마 간극을 메우는 데 도움이 될 것입니다(느린 작업자나 낙오자 처리)
- [KO] 동기 대 비동기 측면에서, 집단의 견해가 필요한 TFF의 공통 관념이 있습니다. 그러한 이유로, 외부의 클라이언트 일부가 “집단”에 합류하기로 함께 결정하는 경우 시간이 필요하며 서버는 이러한 일이 일어나도록 조정하는 역할을 해야 합니다. 완료되면, 개별 실행자 요청이 클라이언트와 릴레이 되는 방식은 다양할 수 있습니다. 하향식으로 호출하는 원격 실행자는 이를 실행하는 한 가지 방법이지만 유일한 방법은 아닙니다. 위에 제안된 것과 같은 작업 항목 기반 커뮤니케이션 패턴 또한 이 구조에 확실히 맞을 수 있습니다. 누군가가 작성해야 하는 소량의 1~2 페이지 제안용 자료처럼 보이나요?
- [JL] 우리 모두가 반복하도록 새로운 구성 요소에 대한 제안을 작성하는 자원 봉사.
- [JL] 그런데 관련된 기능이 있는 다른 근접한 리포지토리가 있나요?
- [KO] 참고로, Google의 https://github.com/google/federated-compute가 있지만 대부분 모바일 시나리오에 중점을 두며 현시점에서는 TFF와 연결되지 않고 여기에서 설명하신 기능을 포함하지 않으므로 이 그룹에서 작은 제안을 시도하고 만들어 내는 것이 확실히 타당합니다.
- [BD] 해결해야 할 몇몇 질문: 결과 캐싱, 집계 시기
- [Hao] 비동기식이 아니라면 이 시나리오에서는 캐싱할 필요가 없을 수도 있습니다.
- [KO] 단순한 MapReduce 패턴에 맞는 시나리오의 경우, TFF에서 일부 지원합니다. https://www.tensorflow.org/federated/api_docs/python/tff/backends/mapreduce를 참조하세요. 이 라이브러리를 통해 TFF 계산을 더 단순한 플랫폼에서 실행할 수 있는 MapReduce 같은 형식으로 번역할 수 있습니다. 하지만, 표현력에서 일부 손실이 있으며 서버 및 클라이언트 간 여러 차례 왕복 커뮤니케이션이 필요한 앞서 논의한 아이디어 일부는 이 프레임워크에서 표현할 수 없습니다. 또한 오래 지속되는 연결을 유지할 수 있는 잘 프로비저닝 된 클라이언트(사일로) 그룹을 다루고 있기 때문에 교차 사일로 설정은 고유하게 이러한 유형의 아이디어를 가능하게 합니다.
- [Hao] collective 연산, Allreduce는 지원되거나 호환되나요?
- [KO] 현재는 그렇지 않습니다. Allreduce는 단일 fed avg 시나리어에서 활용될 수 있는 한편 처리 기간 사이에 서버에서 발생하는 작업이 없다고 가정한다는 점에서 어느 정도 사용이 제한됩니다. 하지만 효율적인 브로드캐스팅 모드 및 효율적인 집계 모드, 심지어 하드웨어 가속에서도 두 부분을 확보하는 것은 TFF에서 활용할 수 있는 것이 될 것입니다.
- [KO] JL이 새로운 구성 요소에 대한 제안 초안을 시작할 의향이 있으며 다른 사람들은 그곳에 무엇이 포함되어야 하는지에 대한 의견이 있는 것 같습니다. 공동 작업을 해봅시다(방의 모든 사람에서 +1). 논의할 초안을 가지고 2주 뒤에 재소집합시다.
